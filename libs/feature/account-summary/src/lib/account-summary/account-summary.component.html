<h1>Account Summary</h1>
<div class="account-summary">
  <form [formGroup]="accountsForm">
    <section>
      <table>
        <thead>
          <th *ngFor="let th of displayedColumns" scope="col">
            <span *ngIf="th.type === 'default'">{{ th.label }}</span>
            <ng-container *ngIf="th.type === 'select'">
              <label>{{ th.label }}</label>
              <select [name]="th.type" formControlName="{{ th?.formControl }}">
                <option
                  *ngFor="let option of th.options"
                  [value]="option.value"
                >
                  {{ option.label }}
                </option>
              </select>
            </ng-container>
          </th>
        </thead>
        <tbody>
          <tr *ngFor="let account of accounts$ | async">
            <th *ngFor="let th of displayedColumns">
              <a
                *ngIf="th.key === 'id'"
                [routerLink]="['account', account[th.key]]"
              >
                {{ account[th.key] }}
              </a>
              <span *ngIf="!(th.key === 'id')">{{ account[th.key] }}</span>
            </th>
          </tr>
        </tbody>
      </table>
    </section>
  </form>
</div>
